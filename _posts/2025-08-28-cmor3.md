---
title:  "CMOR 3.12.0 released!!!"
published: true
permalink: /news/:year/:month/:day/:title/
tags: [news, getting_started]
---

Update CMOR3 with CF CRS container variable; Numerous edge case fixes, license reformulation for CMIP7

Features
* CMOR will issue warnings for controlled vocabulary (CV) files that do not have a format expected by CMOR.
* `directory_path_template` and `filename_template` from the `DRS` section of CV files will be used as the directory and file name templates, respectively, if they are not specified in the user input. The built-in default templat values will be used if these attributes are not in the CV.
* CMOR will issue warnings if the user passes time bounds with midpoints that do not align with time values passed.
* `standard_parallel` and `scale_factor_at_projection_origin` are valid attributes for grid mappings `mercator` and `polar stereographic` when using [`cmor_set_grid_mapping`](mydoc_cmor3_api/#cmor_set_grid_mapping) or [`cmor_set_crs`](/mydoc_cmor3_api/#cmor_set_crs). CMOR will issue warnings if the user sets neither attribute or sets both attributes on the same grid mapping or CRS variable.

Bugfixes
* CMOR will now check the required attributes set by the user first before checking all required attributes listed in `required_global_attributes` in the CV.
* `mip_era` was missing from the `title` attribute when using [mip-cmor-tables](https://github.com/PCMDI/mip-cmor-tables). This has been resolved by getting `mip_era` from the file's global attributes instead of from the variable table header.
* Resolved compiler error caused by not casting a point to `cmor *` in the Python C interface for [`cmor_set_crs`](/mydoc_cmor3_api/#cmor_set_crs).
* Fixed minimum variable value warning that was erroneously displaying the valid maximum value instead of the valid mininum value.
* Resolved segfault caused by the checking of NaN values in variables that have axes with string values.
* A warning message for a missing `standard_parallel` parameter when using [`cmor_set_grid_mapping`](mydoc_cmor3_api/#cmor_set_grid_mapping) or [`cmor_set_crs`](/mydoc_cmor3_api/#cmor_set_crs) is no longer issued if parameters `standard_parallel1` and `standard_parallel2` are used instead.
* Resolved segfault caused by passing invalid units for parameters when using [`cmor_set_grid_mapping`](mydoc_cmor3_api/#cmor_set_grid_mapping) or [`cmor_set_crs`](/mydoc_cmor3_api/#cmor_set_crs).

Changes
* [PrePARE](/mydoc_cmip6_validator) has been deprecated from CMOR and will be removed in future versions.
* CMOR tables for axes and formula tables will now have headers. CMOR 3.12 is designed to ignore information in these headers.  Previous CMOR versions will encounter errors when using these updated tables.
* Function [`cmor_time_varying_grid_coordinate`](/mydoc_cmor3_api/#cmor_time_varying_grid_coordinate) has been removed from the API.

Closed Issues
* [order in `required_global_attributes` matters (#737)](https://github.com/PCMDI/cmor/issues/737){:target="_blank"}
* ['title' attribute in files misses mip_era when using mip-cmor-tables (#776)](https://github.com/PCMDI/cmor/issues/776){:target="_blank"}
* [Impose table and CMOR input consistency across new templates (#821)](https://github.com/PCMDI/cmor/issues/821){:target="_blank"}
* [Compile error in _cmormodule.c (#828)](https://github.com/PCMDI/cmor/issues/828){:target="_blank"}
* [Catching issues with poorly formed CV data (#829)](https://github.com/PCMDI/cmor/issues/829){:target="_blank"}
* [Warning message for minimum value erroneously uses maximum value (#830)](https://github.com/PCMDI/cmor/issues/830){:target="_blank"}
* [Deprecate PrePARE - remove from repo in a future version (#833)](https://github.com/PCMDI/cmor/issues/833){:target="_blank"}
* [Use path and file name templates in `DRS` section of CV files (#834)](https://github.com/PCMDI/cmor/issues/834){:target="_blank"}
* [Remove the function `cmor_time_varying_grid_coordinate` (#835)](https://github.com/PCMDI/cmor/issues/835){:target="_blank"}
* [Segfault encountered when finding NaNs in variable with string value axis (#839)](https://github.com/PCMDI/cmor/issues/839){:target="_blank"}
* [Erroneous missing `standard_parallel` warning raised when two standard parallel values are passed (#845)](https://github.com/PCMDI/cmor/issues/845){:target="_blank"}
* [Parameter options for `mercator` and `polar_stereographic` grid mappings (#849)](https://github.com/PCMDI/cmor/issues/849){:target="_blank"}
* [CMOR time axis mapping - catching user errors with poor time_bnds arguments (#852)](https://github.com/PCMDI/cmor/issues/852){:target="_blank"}
* [Setting unexpected units for grid mapping attributes causes segfault (#856)](https://github.com/PCMDI/cmor/issues/856){:target="_blank"}

[GitHub](https://github.com/PCMDI/cmor/releases/tag/3.12.0){:target="_blank"}
